"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.FeedFactory = void 0;
var Feed_1 = require("../../Model/Feed/Feed");
var FailureReportsFactory_1 = require("./FailureReportsFactory");
var FeedErrorsFactory_1 = require("./FeedErrorsFactory");
var FeedWarningsFactory_1 = require("./FeedWarningsFactory");
var JsonStructureValidator_1 = require("../../Validator/JsonStructureValidator");
var FeedFactory = /** @class */ (function () {
    function FeedFactory() {
    }
    FeedFactory.make = function (json) {
        var REQUIRED_FIELDS = ["Feed", "Status"];
        JsonStructureValidator_1.JsonStructureValidator.validateStructure(json, "Feed", REQUIRED_FIELDS);
        var id = json["Feed"];
        var status = json["Status"];
        var action = json["Action"] ? json["Action"] : null;
        var creation = json["CreationDate"] ? json["CreationDate"] : null;
        var updated = json["UpdatedDate"] ? json["UpdatedDate"] : null;
        var source = json["Source"] ? json["Source"] : null;
        var totalRecords = json["TotalRecords"] ? json["TotalRecords"] : null;
        var processedRecords = json["ProcessedRecords"] ? json["ProcessedRecords"] : null;
        var failedRecords = json["FailedRecords"] ? json["FailedRecords"] : null;
        var errors = null;
        var warnings = null;
        var failureReports = null;
        if (json["FeedErrors"])
            errors = FeedErrorsFactory_1.FeedErrorsFactory.make(json["FeedErrors"]);
        if (json["FeedWarnings"])
            warnings = FeedWarningsFactory_1.FeedWarningsFactory.make(json["FeedWarnings"]);
        if (json["FailureReports"] && Object.keys(json["FailureReports"]).length) {
            failureReports = FailureReportsFactory_1.FailureReportsFactory.make(json["FailureReports"]);
        }
        return new Feed_1.Feed(id, status, action, creation, updated, source, totalRecords, processedRecords, failedRecords, errors, warnings, failureReports);
    };
    return FeedFactory;
}());
exports.FeedFactory = FeedFactory;
//# sourceMappingURL=FeedFactory.js.map