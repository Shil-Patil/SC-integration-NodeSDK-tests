"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.OrdersItemsFactory = void 0;
var Order_1 = require("../../Model/Order/Order");
var Orders_1 = require("../../Model/Order/Orders");
var JsonStructureValidator_1 = require("../../Validator/JsonStructureValidator");
var OrderItemsFactory_1 = require("./OrderItemsFactory");
var OrdersItemsFactory = /** @class */ (function () {
    function OrdersItemsFactory() {
    }
    OrdersItemsFactory.make = function (json) {
        var jsonTempForValidation = Array.isArray(json["Orders"]["Order"]) ? json["Orders"]["Order"][0] : json["Orders"]["Order"];
        JsonStructureValidator_1.JsonStructureValidator.validateStructure(jsonTempForValidation, OrdersItemsFactory.JSON_MODEL, OrdersItemsFactory.REQUIRED_FIELDS);
        var orders = new Orders_1.Orders();
        if (!Array.isArray(json["Orders"]["Order"])) {
            var orderItems = OrderItemsFactory_1.OrderItemsFactory.make(json["Orders"]["Order"]);
            var order = Order_1.Order.fromItems(json["OrderId"], json["OrderNumber"], orderItems);
            orders.add(order);
            return orders;
        }
        json["Orders"]["Order"].forEach(function (item) {
            var orderItems = OrderItemsFactory_1.OrderItemsFactory.make(item);
            var order = Order_1.Order.fromItems(item["OrderId"], item["OrderNumber"], orderItems);
            orders.add(order);
        });
        return orders;
    };
    OrdersItemsFactory.JSON_MODEL = 'Order';
    OrdersItemsFactory.REQUIRED_FIELDS = [
        'OrderId',
        'OrderNumber',
        'OrderItems',
    ];
    return OrdersItemsFactory;
}());
exports.OrdersItemsFactory = OrdersItemsFactory;
//# sourceMappingURL=OrdersItemsFactory.js.map