"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CategoryFactory = void 0;
var Category_1 = require("../../Model/Category/Category");
var JsonStructureValidator_1 = require("../../Validator/JsonStructureValidator");
var CategoryFactory = /** @class */ (function () {
    function CategoryFactory() {
    }
    CategoryFactory.make = function (json) {
        var REQUIRED_FIELDS = [
            'CategoryId',
            'Name',
            'GlobalIdentifier',
        ];
        JsonStructureValidator_1.JsonStructureValidator.validateStructure(json, "Category", REQUIRED_FIELDS);
        var category = Category_1.Category.build(json["CategoryId"], json["Name"], json["GlobalIdentifier"], json["AttributeSetId"]);
        if (json["Children"] && json["Children"]["Category"]) {
            if (!(Array.isArray(json["Children"]["Category"]))) {
                var childCategory = CategoryFactory.make(json["Children"]["Category"]);
                category.addChild(childCategory);
                return category;
            }
            json["Children"]["Category"].forEach(function (child) {
                var childCategory = CategoryFactory.make(child);
                category.addChild(childCategory);
            });
        }
        return category;
    };
    return CategoryFactory;
}());
exports.CategoryFactory = CategoryFactory;
//# sourceMappingURL=CategoryFactory.js.map