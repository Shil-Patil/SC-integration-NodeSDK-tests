"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CategoriesFactory = void 0;
var Categories_1 = require("../../Model/Category/Categories");
var Category_1 = require("../../Model/Category/Category");
var CategoryFactory_1 = require("./CategoryFactory");
var CategoriesFactory = /** @class */ (function () {
    function CategoriesFactory() {
    }
    CategoriesFactory.make = function (json) {
        if (!json["Categories"] || !json["Categories"]["Category"])
            throw "The Json structure is not valid. The property Categories / Category should exist.";
        var categories = new Categories_1.Categories();
        // if only one category is present
        if (!(Array.isArray(json["Categories"]["Category"]))) {
            var category = CategoryFactory_1.CategoryFactory.make(json["Categories"]["Category"]);
            categories.add(category);
            return categories;
        }
        json["Categories"]["Category"].forEach(function (item) {
            if (Object.keys(item).length != 0) {
                var category = CategoryFactory_1.CategoryFactory.make(item);
                categories.add(category);
            }
        });
        return categories;
    };
    CategoriesFactory.makeFromJsonString = function (element) {
        var categoriesArray = element.split(",");
        var categories = new Categories_1.Categories();
        categoriesArray.forEach(function (categoryName) {
            var category = Category_1.Category.fromName(categoryName);
            categories.add(category);
        });
        return categories;
    };
    return CategoriesFactory;
}());
exports.CategoriesFactory = CategoriesFactory;
//# sourceMappingURL=CategoriesFactory.js.map