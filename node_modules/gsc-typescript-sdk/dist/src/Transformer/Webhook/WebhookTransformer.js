"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.WebhookTransformer = void 0;
var XmlParserUtil_1 = require("../../Helpers/XmlParserUtil");
var JsonHelper_1 = require("../../Helpers/JsonHelper");
var WebhookTransformer = /** @class */ (function () {
    function WebhookTransformer() {
    }
    WebhookTransformer.createWebhookAsXmlString = function (callbackUrl, events) {
        var eventArray = [];
        if (!(Array.isArray(events))) {
            events = [events];
        }
        events.forEach(function (event) {
            eventArray.push(event.getAlias());
        });
        var json = (0, JsonHelper_1.clone)({
            "Request": {
                "Webhook": {
                    "CallbackUrl": callbackUrl,
                    "Events": {
                        "Event": eventArray
                    }
                }
            }
        });
        var xmlString = XmlParserUtil_1.XmlHelper.jsonToXml(json);
        return xmlString;
    };
    WebhookTransformer.deleteWebhookAsXmlString = function (webhookId) {
        var json = (0, JsonHelper_1.clone)({
            "Request": {
                "Webhook": webhookId
            }
        });
        var xmlString = XmlParserUtil_1.XmlHelper.jsonToXml(json);
        return xmlString;
    };
    return WebhookTransformer;
}());
exports.WebhookTransformer = WebhookTransformer;
//# sourceMappingURL=WebhookTransformer.js.map